{% extends "gitweb/base.html" %}

{% block content %}
<h1>Repository list</h1>

<dl>
    {% for repo in repository_list %}
    <dt><h3>{{ repo }}</h3></dt>
    <dd>
        Branches:
        {% for branch in repo.branches %}
            <a href="{% url gitweb_repository_tree repo.pk,repo.slug,branch.name,"" %}">{{ branch.name }}</a>
            {% ifequal branch.name repo.active_branch %}
                <em>(active)</em>
            {% endifequal %}
            {% if not forloop.last %}
                ,
            {% endif %}
        {% endfor %}
        <br/>
        Tags:
        {% if repo.tags %}
            {% for tag in repo.tags %}
                {{Â tag.name }}
            {% endfor %}
        {% else %}
            <em>none</em>
        {% endif %}
        
        <h4>Recent 3 commits:</h4>
        <ul>
            {% for commit in repo.recent_commits %}
            <li>
                {{ commit.id }}: {{ commit.message }}
            </li>
            {% endfor %}
        </ul>
    </dd>
    {% endfor %}
</dl>
{% endblock %}